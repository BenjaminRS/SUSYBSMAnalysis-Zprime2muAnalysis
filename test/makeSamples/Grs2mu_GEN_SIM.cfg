# Configuration file for production of G*(RS)-->mu+ mu-.
# Zprime2mu part is translation to CMSSW language of control cards used
# in PYTHIA and CMKIN since 2002; the rest is standard.

process GENSIM = {

    untracked PSet maxEvents = {untracked int32 input = 50000}

    untracked PSet configurationMetadata = {
	untracked string version = "$Revision: 1.1 $"
	untracked string name = "$Source: /cvs_server/repositories/CMSSW/CMSSW/SUSYBSMAnalysis/Zprime2muAnalysis/test/Grs2mu_GEN_SIM.cfg,v $"
	untracked string annotation = "SV: G_RS (1 TeV) --> mu+ mu-"
    }

    # Initialize MessageLogger
    include "FWCore/MessageService/data/MessageLogger.cfi"
    # replace MessageLogger.cerr.default.limit = 10

    # Initialize random number seeds
    include "Configuration/ReleaseValidation/data/Services.cff"

    untracked PSet options = {
	include "FWCore/Framework/test/cmsExceptionsFatalOption.cff"
	untracked bool wantSummary = true
	untracked bool makeTriggerResults = true
    }

    # Event generation
    source = PythiaSource { 
# to printout pythia event record (call pylist)
	untracked int32 pythiaPylistVerbosity = 0
# to printout HepMC::GenEvent record (HepMC::GenEvent::print())
	untracked bool pythiaHepMCVerbosity = false
	untracked int32 maxEventsToPrint = 0

	PSet PythiaParameters = {

	    # This is a vector of ParameterSet names to be read, in this order
	    vstring parameterSets = {
		"pythiaUESettings",
		"Zprime2mu"
	    }

	    include "Configuration/Generator/data/PythiaUESettings.cfi"

	    vstring Zprime2mu = {
# Randall-Sundrum lowest excited graviton state.
		"MSEL = 0             ! select between full user control (0) and some preprogrammed alternative",
		"MSUB(391) = 1        ! q qbar -> G*",
		"MSUB(392) = 1        ! g g -> G*",
# Dimensionless constant defining graviton couplings and widths.
# PARP(50) is defined as sqrt(2)*x_1*k/M_{Pl}, where x_1 is the
# first root of J_1 Bessel function and is equal to 3.8317.
# The default is 0.054 corresponding to c=k/M_{Pl} of 0.01.
		"PARP(50) = 0.54      ! 0.54 == c=0.1",
# Graviton mass.  KC code for R-S G* is 347, but may change.  Check it by
# printing KC=PYCOMP(5000039) value.
	        "PMAS(347,1) = 1000.0 ! PMAS(KC,1) is mass of particle KC",
# Range of allowed M values
#		"CKIN(1) =  200.      ! lower mass limit",
#		"CKIN(1) =  400.      ! ",
#	        "CKIN(1) = 1000.      ! ",
#	        "CKIN(1) = 1500.      ! ",
#	        "CKIN(1) = 2000.      ! ",
#	        "CKIN(1) = 3000.      ! ",
#	        "CKIN(2) =  500.      ! upper mass limit",
# Used in official production, but I (SV) do not know the reason for this.
#		"CKIN(3) = 20.        ! minimum pt hat for hard interactions",
# Decay modes
		"MDME(4158,1) = 0     ! d + dbar",
		"MDME(4159,1) = 0     ! u + ubar",
		"MDME(4160,1) = 0     ! s + sbar",
		"MDME(4161,1) = 0     ! c + cbar",
		"MDME(4162,1) = 0     ! b + bbar",
		"MDME(4163,1) = 0     ! t + tbar",
		"MDME(4164,1) =-1     ! bprime + bprimebar",
		"MDME(4165,1) =-1     ! tprime + tprimebar",
		"MDME(4166,1) = 0     ! e+     + e-",
		"MDME(4167,1) = 0     ! nu_e   + nu_ebar",
		"MDME(4168,1) = 1     ! mu-    + mu+",
		"MDME(4169,1) = 0     ! nu_mu  + nu_mubar",
		"MDME(4170,1) = 0     ! tau-   + tau+",
		"MDME(4171,1) = 0     ! nu_tau + nu_taubar",
		"MDME(4172,1) =-1     ! tauprime- + tauprime+",
		"MDME(4173,1) =-1     ! nuprime_tau + nuprime_taubar",
		"MDME(4174,1) = 0     ! g + g",
		"MDME(4175,1) = 0     ! gamma + gamma",
		"MDME(4176,1) = 0     ! Z + Z",
		"MDME(4177,1) = 0     ! W + W"
	    }
	}
    }

    # Simulation parameters
    include "Configuration/StandardSequences/data/Simulation.cff"
    include "Configuration/StandardSequences/data/VtxSmearedGauss.cff"

    # Produces genParticleCandidates from HepMC products
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"
    #include "PhysicsTools/HepMCCandAlgos/data/genParticleCandidates.cfi"

    # Produces the same output as PYLIST.  Works on GenParticlesCandidates.
    module printTree = ParticleListDrawer {
	untracked int32 maxEventsToPrint = 10
    }

    # Event output
    include "Configuration/EventContent/data/EventContent.cff"
    module GEN-SIM = PoolOutputModule {
     	using FEVTSIMEventContent
	untracked string fileName = "file:Grs1000_GEN.root"
	untracked PSet datasets = {
	    untracked PSet dataset1 = {
		untracked string dataTier = "GEN"
	    }
	    untracked PSet dataset2 = {
		untracked string dataTier = "SIM"
	    }
	}
    }

    # path p = {psim, genParticleCandidates, printTree}
    endpath outpath = {GEN-SIM}
}
